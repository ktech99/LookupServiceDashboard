{"ast":null,"code":"// Licensed to Elasticsearch B.V under one or more agreements.\n// Elasticsearch B.V licenses this file to you under the Apache 2.0 License.\n// See the LICENSE file in the project root for more information\n'use strict';\n\nconst BaseConnectionPool = require('./BaseConnectionPool');\n\nclass CloudConnectionPool extends BaseConnectionPool {\n  constructor(opts = {}) {\n    super(opts);\n    this.cloudConnection = null;\n  }\n  /**\n   * Returns the only cloud connection.\n   *\n   * @returns {object} connection\n   */\n\n\n  getConnection() {\n    return this.cloudConnection;\n  }\n  /**\n   * Empties the connection pool.\n   *\n   * @returns {ConnectionPool}\n   */\n\n\n  empty(callback) {\n    super.empty(() => {\n      this.cloudConnection = null;\n      callback();\n    });\n  }\n  /**\n   * Update the ConnectionPool with new connections.\n   *\n   * @param {array} array of connections\n   * @returns {ConnectionPool}\n   */\n\n\n  update(connections) {\n    super.update(connections);\n    this.cloudConnection = this.connections[0];\n    return this;\n  }\n\n}\n\nmodule.exports = CloudConnectionPool;","map":null,"metadata":{},"sourceType":"script"}